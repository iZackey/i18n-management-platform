(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0874db69"],{3442:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"views-type-list"},[i("h1",[t._v("项目分类")]),i("div",{staticClass:"type-list"},[i("el-row",{attrs:{gutter:20}},[t._l(t.list,(function(e,o){return i("el-col",{key:o,attrs:{span:6}},[i("div",{staticClass:"grid-content bg-purple",on:{click:function(i){return t.goLangList(e)}}},[i("div",{staticClass:"type-name"},[t._v(t._s(e.typeName))]),i("div",{staticClass:"operation-btn"},[i("i",{staticClass:"el-icon-delete",attrs:{slot:"reference"},on:{click:function(i){return i.stopPropagation(),t.deleteType(e)}},slot:"reference"}),i("i",{staticClass:"el-icon-edit",on:{click:function(i){return i.stopPropagation(),t.editType(e)}}})])])])})),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content bg-purple",staticStyle:{cursor:"pointer"},on:{click:t.addTypeItem}},[i("div",{staticClass:"type-name"},[i("i",{staticClass:"el-icon-circle-plus"})])])])],2)],1),i("el-dialog",{attrs:{title:"提示",visible:t.isShowAddDialog,width:"30%","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowAddDialog=e},"before-close":t.beforeCloseAddDialog}},[i("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[i("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.isShowAddDialog=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submitData}},[t._v("确 定")])],1)],1)],1)},a=[],s=(i("053b"),i("2ba1")),n=i("ab3e"),r={data:function(){return{list:[],isShowAddDialog:!1,ruleForm:{id:"",name:""},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},isLoading:!1}},mounted:function(){this.getTypeList()},methods:{getTypeList:function(){var t=this;this.isLoading=!0,Object(n["a"])({url:"getTypeList",method:"get"}).then((function(e){"true"==e.result&&(t.list=e.data||[]),t.isLoading=!1}))},addTypeItem:function(){this.isShowAddDialog=!0},submitData:function(){var t=this;if(this.ruleForm.name){var e={typeName:this.ruleForm.name};this.ruleForm.id&&(e.id=this.ruleForm.id),Object(n["a"])({url:this.ruleForm.id?"editType":"addType",method:"post",data:Object(s["a"])({},e)}).then((function(e){"true"==e.result&&(t.$showOk("添加成功"),t.getTypeList(),t.isShowAddDialog=!1)}))}},deleteType:function(t){var e=this;this.$confirm("确认删除（"+t.typeName+"）吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["a"])({url:"deleteType",method:"post",data:{id:t.id}}).then((function(t){"true"==t.result&&(e.$showOk("删除成功"),e.getTypeList())}))})).catch((function(){}))},editType:function(t){this.ruleForm.id=t.id,this.ruleForm.name=t.typeName,this.isShowAddDialog=!0},beforeCloseAddDialog:function(){this.ruleForm.id="",this.ruleForm.name=""},goLangList:function(t){this.$router.push({path:"/langList",query:{typeId:t.id,typeName:t.typeName}})}}},l=r,u=(i("9a8d"),i("9ca4")),c=Object(u["a"])(l,o,a,!1,null,"9001db76",null);e["default"]=c.exports},"9a8d":function(t,e,i){"use strict";var o=i("f67b"),a=i.n(o);a.a},ab3e:function(t,e,i){"use strict";i.d(e,"b",(function(){return u}));i("e18c"),i("e35a"),i("5e9f");var o=i("2ba1"),a=i("82ae"),s=i.n(a),n=(i("4360"),i("a078")),r=(i("f0ee"),i("e04f")),l=i.n(r),u=function(t){"/login"!=window.globalVueApp.$route.path&&window.globalVueApp.$router.replace({path:"/login"})},c=function(t){return new Promise((function(e,i){var a=t.isMock?t.mockUrl||"":/^https?:\/\//.test(t.url)?t.url:n["a"]+t.url,r=t.data||{};s()(Object(o["a"])(Object(o["a"])({},t),{},{method:t.isMock?"post":t.method||"post",url:a,data:t.isMock?r:JSON.stringify(r),headers:Object(o["a"])({"Content-Type":"application/json;charset=UTF-8","x-csrf-token":l.a.get("csrfToken")},t.headers||{}),withCredentials:!0})).then((function(i){var o=i.data||{};if(104==o.retCode)return window.globalVueApp.$showError("系统登录状态超时，即将退出登录"),void setTimeout((function(){u()}),2e3);"false"!==o.result&&!1!==o.result||t.isPassFalse||window.globalVueApp.$showError(o.resultDes||"接口请求出错"),e(o)})).catch((function(t){window.globalVueApp.$showError("接口请求出错"),i(t)}))}))};e["a"]=c},f67b:function(t,e,i){}}]);